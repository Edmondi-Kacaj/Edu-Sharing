<main-nav #mainNav
          [title]="'STREAM.TITLE'"
          [currentScope]="'stream'"
          [searchEnabled]="true"
          [searchPlaceholder]="'STREAM.SEARCH_PLACEHOLDER'"
          [(searchQuery)]="searchQuery"
          (onSearch)="doSearch($event)"
></main-nav>
<div class="stream-container" infiniteScroll
[scrollWindow]="true"
(scrolled)="onScroll()">
    <div class="row">
    <div class="col s2 removepadding margin-show">
        <div class="choose-menu"  (click)="menuOptions('stream')" [ngClass]="menuOption == 'stream' ? 'm-active' : 'm-inactive'">
                <i class="tiny material-icons fix-icon-padding">date_range</i> Mein Stream
        </div>
        <div class="choose-menu"  (click)="menuOptions('erledigt')" [ngClass]="menuOption == 'erledigt' ? 'm-active' : 'm-inactive'">
                <i class="tiny material-icons fix-icon-padding">check_circle</i> Schon erledigt
        </div>
    </div>    
    <div class="col s8">
    <div class="margin-show main-stream">
        <h5>
            <div class="stream-header">
                <div class="stream-header-left">
                    <div class="stream-title">Heute</div>
                    <span id="stream-title-date">
                        {{today()}}
                    </span>
                </div>
                <div class="stream-header-right">
                  <!--   <div class="stream-uppericon"> <i class="material-icons fix-up " >shuffle</i>  </div> <div (click)="sortieren()" class="stream-uppertext">Sortieren</div>-->
                </div>
            </div>
            
            <!-- This could be a directive : -->

        </h5>

        <div class="stream-box" *ngFor="let strm of streams" >
            <div class="stream-box-main">
                <div class="stream-box-title">{{ strm.properties['add_to_stream_title'] || 'Schon gewusst?' }} </div>
                <!-- todo: ngfor over strm.properties.['cclom:general_keyword'] -->
        
          <div class="stream-box-desc">{{ strm.nodes[0].description || 'lorem ipsum dolor sit amet, consectetur' }}</div> 
          <div class="stream-box-desc"> <div class="chip">Kompetenz</div> <div class="chip">Kompetenz</div>  </div>


            </div>
            <div class="stream-box-main-vert">
                <actionbar
                    [numberOfAlwaysVisibleOptions]="0"
                    [numberOfAlwaysVisibleOptionsMobile]="0"
                    [style]="'flat'"
                    [options]="actionOptions"
                    [node]="strm.id"

                ></actionbar>
            </div>
            <div class="stream-box-kompetenzen"></div>
            <div class="stream-box-image">
                <img src="{{ strm.nodes[0].preview.url }} " style="width:100%;height:auto;border:0;">
                
                <div class="bottom-left">{{strm.properties['add_to_stream_title']}}</div>
                <div class="bottom-right">{{ strm.nodes[0].commentCount }} <i class="material-icons stic" >comment</i> </div>
            </div>
        </div>

        <!--
        <div class="stream-box" *ngFor="let strm of streams" >
            <div class="stream-box-main">
              <div class="stream-box-title">{{ strm.nodes[0].title || 'Schon gewusst?' }} </div>
              <div class="stream-box-desc">{{ strm.nodes[0].description || 'lorem ipsum dolor sit amet, consectetur' }} </div>
            </div>
            <div class="stream-box-main-vert">
                <i class="material-icons " >more_vert</i>
            </div>
            <div class="stream-box-kompetenzen"></div>
            <div class="stream-box-image"></div>
            <div class="stream-box-footer">
                <div class="stream-box-imgname">{{ strm.nodes[0].name }}</div><div class="stream-box-rating"><i class="material-icons stic" >star</i><i class="material-icons stic" >star</i><i class="material-icons stic" >star</i><i class="material-icons stic" >star</i></div><div class="stream-box-comment"> {{ strm.nodes[0].commentCount }} <i class="material-icons stic" >chat</i> </div>
            </div>
        </div>
        -->

    </div>
    </div> <!-- cols8 -->
    <div class="col s2"></div>
    </div> <!-- row -->
</div>
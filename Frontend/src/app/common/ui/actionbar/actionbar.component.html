<dropdown
  #dropdownRef
  [options]="optionsMenu"
  [showDisabled]="showDisabled"
  [position]="dropdownPosition"
></dropdown>
<div
  class="actionbar"
  [class.actionbar-all-flat]="style == 'flat'"
  [class.actionbar-background-primary]="backgroundType == 'primary'"
  [class.actionbar-round]="appearance == 'round'"
>
  <button
    mat-flat-button
    color="primary"
    *ngIf="optionsAlways.length > 0"
    [disabled]="!optionsAlways[0].isEnabled"
    [class.display-none]="!optionsAlways[0].isEnabled && !showDisabled"
    matTooltip="{{
      optionsAlways[0].showName && appearance != 'round'
        ? null
        : (optionsAlways[0].name | translate)
    }}"
    [attr.aria-label]="optionsAlways[0].name | translate"
    (click)="click(optionsAlways[0])"
  >
    <i [icon]="optionsAlways[0].icon"></i>
    <span class="action-always-caption" *ngIf="optionsAlways[0].showName && appearance != 'round'">
      {{ optionsAlways[0].name | translate }}</span
    >
  </button>
  <button
    mat-button
    color="primary"
    *ngFor="let option of optionsAlways.slice(1); let i = index"
    [disabled]="!option.isEnabled"
    [class.display-none]="!option.isEnabled && !showDisabled"
    matTooltip="{{ option.showName ? null : (option.name | translate) }}"
    [attr.aria-label]="option.name | translate"
    (click)="click(option)"
  >
    <i [icon]="option.icon"></i>
    <span class="action-always-caption" *ngIf="option.showName && appearance != 'round'">
      {{ option.name | translate }}</span
    >
  </button>
  <button
    mat-button
    color="primary"
    class="more button-icon"
    aria-label="{{'OPTIONS.SHOW_ALL_OPTIONS' | translate}}"
    [matMenuTriggerFor]="dropdownRef.menu"
    *ngIf="canShowDropdown()"
  >
    <i icon="more_vert" aria="true"></i>
  </button>
  <div
    *ngIf="optionsToggle.length"
    class="actionToggle"
    [class.actionToggleDivider]="optionsAlways.length"
  >
    <button
      mat-flat-button
      *ngFor="let option of optionsToggle"
      class="button-icon"
            matTooltip="{{option.name | translate}}"
      (click)="click(option)"
      [class.disabled]="!option.isEnabled"
    >
      <i [icon]="option.icon" [aria]="false"></i>
    </button>
  </div>
</div>

<metadataset id="default" label="default" hidden="false">
		<name>Core Metadataset</name>
		<i18n>mds</i18n>
		<widgets>
			<widget>
				<id>cm:name</id>
				<caption>cm_name</caption>
				<placeholder>cm_name_placeholder</placeholder>
				<bottomCaption>cm_name_bottom</bottomCaption>
				<icon>description</icon>
				<type>text</type>
				<required>true</required>
				<!-- <condition>!ccm:wwwurl</condition>  -->
			</widget>
			<widget>
				<id>cclom:title</id>
				<caption>cm_title</caption>
				<placeholder>cm_title_placeholder</placeholder>
				<bottomCaption>cm_title_bottom</bottomCaption>
				<type>text</type>
				<hideIfEmpty>true</hideIfEmpty>
				<condition>!ccm:wwwurl</condition>
			</widget>
			<widget>
				<id>cclom:title</id>
				<caption>cm_title_wwwurl</caption>
				<placeholder>cm_title_placeholder</placeholder>
				<type>text</type>
				<condition>ccm:wwwurl</condition>			
			</widget>
			<widget>
				<id>cclom:general_description</id>
				<type>text</type>
				<caption>lom_prop_educational_description</caption>
				<placeholder>lom_prop_educational_description_placeholder</placeholder>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>cclom:general_keyword</id>
				<type>multivalueBadges</type>
				<caption>lom_prop_general_keyword</caption>
				<placeholder>lom_prop_general_keyword_placeholder</placeholder>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>cclom:general_keyword</id>
				<template>search_suggestions</template>
				<type>multivalueBadges</type>
				<caption>lom_prop_general_keyword_tagcloud</caption>
			</widget>
			<widget>
				<id>cclom:general_keyword</id>
				<type>multivalueBadges</type>
				<caption>lom_prop_general_keyword</caption>
				<template>search</template>
			</widget>
			<widget>
				<id>ccm:author_freetext</id>
				<type>textarea</type>
				<caption>lom_prop_author_freetext</caption>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:tool_category</id>
				<type>singleoption</type>
				<caption>cb_tool_category</caption>
				<valuespace>valuespaces.xml</valuespace>
				<valuespace_i18n>valuespaces_i18n</valuespace_i18n>
				<valuespace_i18n_prefix>tool_category_</valuespace_i18n_prefix>
			</widget>
			<widget>
				<id>ccm:tool_producer</id>
				<type>text</type>
				<caption>cb_tool_producer</caption>
				<placeholder>cb_tool_producer_placeholder</placeholder>
			</widget>
			<widget>
				<id>ccm:tool_instance_key</id>
				<type>text</type>
				<caption>cb_tool_instance_key</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_secret</id>
				<type>text</type>
				<caption>cb_tool_instance_secret</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_params</id>
				<type>textarea</type>
				<caption>cb_tool_instance_params</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_license</id>
				<type>text</type>
				<caption>cb_tool_instance_license</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_support_contact</id>
				<type>text</type>
				<caption>cb_tool_instance_support_contact</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_support_mail</id>
				<type>email</type>
				<caption>cb_tool_instance_support_mail</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_provider</id>
				<type>text</type>
				<required>true</required>
				<caption>cb_tool_instance_provider</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_provider_url</id>
				<type>text</type>
				<required>true</required>
				<caption>cb_tool_instance_provider_url</caption>
			</widget>
			<widget>
				<id>ccm:tool_instance_access</id>
				<type>singleoption</type>
				<caption>cb_tool_instance_access</caption>
				<valuespace>valuespaces.xml</valuespace>
				<valuespace_i18n>valuespaces_i18n</valuespace_i18n>
				<valuespace_i18n_prefix>tool_access_</valuespace_i18n_prefix>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_author</id>
				<caption>cb_contr_author</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_publisher</id>
				<caption>cb_contr_publisher</caption>
				<type>vcard</type>
				<icon>person</icon>				
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_unknown</id>
				<caption>cb_contr_unknown</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_initiator</id>
				<caption>cb_contr_initiator</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_terminator</id>
				<caption>cb_contr_terminator</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_validator</id>
				<caption>cb_contr_validator</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_editor</id>
				<caption>cb_contr_editor</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_graphical_designer</id>
				<caption>cb_contr_graphical_designer</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_technical_implementer</id>
				<caption>cb_contr_technical_implementer</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_content_provider</id>
				<caption>cb_contr_content_provider</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_educational_validator</id>
				<caption>cb_contr_educational_validator</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_script_writer</id>
				<caption>cb_contr_script_writer</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_instructional_designer</id>
				<caption>cb_contr_instructional_designer</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:lifecyclecontributer_subject_matter_expert</id>
				<caption>cb_contr_subject_matter_expert</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:metadatacontributer_creator</id>
				<caption>cb_contr_creator</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:metadatacontributer_validator</id>
				<caption>cb_contr_validator</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>ccm:metadatacontributer_provider</id>
				<caption>cb_contr_provider</caption>
				<type>vcard</type>
				<icon>person</icon>
				<hideIfEmpty>true</hideIfEmpty>
			</widget>
			<widget>
				<id>cm:created</id>
				<caption>cm_prop_created</caption>
				<type>date</type>
			</widget>
			<widget>
				<id>cm:modified</id>
				<caption>cm_prop_modified</caption>
				<type>date</type>
			</widget>
			<widget>
				<id>license</id>
				<caption>ccm_prop_io_license</caption>
				<type>license</type>
				<valuespace_i18n_prefix>license_info_</valuespace_i18n_prefix>
				<values>
					<entry description="description_OPEN">OPEN</entry>
					<entry description="description_CC_BY_OPEN">CC_BY_OPEN</entry>
					<entry description="description_CC_BY_RESTRICTED">CC_BY_RESTRICTED</entry>
					<entry description="description_COPYRIGHT_OTHERS">COPYRIGHT_OTHERS</entry>
					<!-- 
					<entry description="description_OER">OER</entry>			
					<entry description="description_OPEN">OPEN</entry>
					<entry description="description_CC_BY_OPEN">CC_BY_OPEN</entry>
					<entry description="description_CC_BY_ALL">CC_BY_ALL</entry>
					<entry>CC_0</entry>
					<entry>PDM</entry>
					<entry>CC_BY</entry>
					<entry>CC_BY_SA</entry>
					<entry>CC_BY_ND</entry>
					<entry>CC_BY_NC</entry>
					<entry>CC_BY_NC_SA</entry>
					<entry>CC_BY_NC_ND</entry>
					 -->
				</values>
			</widget>
			<widget>
				<id>sys:node-uuid</id>
				<caption>lom_prop_general_identifier</caption>
				<type>text</type>
			</widget>
			<widget>
				<id>cclom:size</id>
				<caption>lom_prop_size</caption>
				<type>filesize</type>
			</widget>
			<widget>
				<id>ccm:educationaltypicalagerange</id>
				<caption>lom_prop_educational_typicalagerange</caption>
				<type>range</type>
				<min>0</min>
				<max>99</max>
			</widget>
			<widget>
				<id>ccm:taxonid</id>
				<caption>input_taxonentry</caption>
				<type>multivalueTree</type>
				<valuespace>eaf_discipline.xml</valuespace>
			</widget>
			<widget>
				<id>ccm:educationalcontext</id>
				<caption>school_context_type_of_school</caption>
				<type>multivalueFixedBadges</type>
				<valuespace>context.xml</valuespace>
				<valuespace_i18n>valuespace_context_i18n</valuespace_i18n>
			</widget>
		</widgets>
		<templates>
			<template>
				<id>node_general</id>
				<caption>dialog_upload_tab_basic</caption>
				<icon>description</icon>
				<html><![CDATA[
			  <preview>
              <cm:name>
              <cclom:title>
              <cclom:general_keyword>
              <cclom:general_description>
              <author>
              <license>
              <version>
				]]></html>
			</template>
			<template>
				<id>saved_search_general</id>
				<caption>dialog_upload_tab_basic</caption>
				<icon>description</icon>
				<html><![CDATA[
              <cm:name>
              <cclom:title>
				]]></html>
			</template>
			<template>
				<id>node_map</id>
				<caption>dialog_upload_tab_basic</caption>
				<icon>description</icon>
				<html><![CDATA[
			  <preview>
              <cm:name>
				]]></html>
			</template>
			<template>
				<id>tool_definition</id>
				<caption></caption>
				<html><![CDATA[
				<div style="width:40%;float:left;padding-right:30px;min-height:130px;">
				  	<preview>
		        </div>
		        <div style="padding-top:40px;width:60%;float:left;font-weight:bold;">
              		<cm:name caption="{{cm_toolname}}" placeholder="{{cm_toolname_placeholder}}" bottomCaption="" icon="build">
              	</div>
              	<div style="width:100%;float:left;">
              		<cclom:general_description type="textarea" placeholder="{{lom_prop_tool_description_placeholder}}">
              		<div class="row">
	              		<div class="col s6"><ccm:tool_category></div>
	              		<div class="col s6"><ccm:tool_producer></div>
              		</div>             
				]]></html>
			</template>
			<template>
				<id>tool_instance_general</id>
				<caption>dialog_upload_tab_tool_instance_general</caption>
				<icon>build</icon>
				<html><![CDATA[
				<cm:name caption="{{cm_toolinstancename}}" placeholder="{{cm_toolinstancename_placeholder}}" icon="" bottomCaption="">
				<div class="row">
					<div class="col s6"><ccm:tool_instance_key></div>
					<div class="col s6"><ccm:tool_instance_secret></div>
				</div>				
				]]></html>
			</template>
			<template>
				<id>tool_instance_provider</id>
				<caption>dialog_upload_tab_tool_instance_provider</caption>
				<icon>group</icon>
				<html><![CDATA[
				<div class="row">
					<div class="col s6"><ccm:tool_instance_provider></div>
					<div class="col s6"><ccm:tool_instance_provider_url></div>
				</div>
				<div class="row">
					<div class="col s6"><ccm:tool_instance_provider_support_contact></div>
					<div class="col s6"><ccm:tool_instance_provider_support_mail></div>
				</div>
				]]></html>
			</template>
			<template>
				<id>tool_instance_extended</id>
				<caption>dialog_upload_tab_tool_instance_extended</caption>
				<icon>extension</icon>
				<html><![CDATA[
					<ccm:tool_instance_license>
					<ccm:tool_instance_access>
					<ccm:tool_instance_params>
				]]></html>
			</template>
			<template>
				<id>search</id>
				<html><![CDATA[
              <cclom:general_keyword>
              <license>
				]]></html>
			</template>
			<template>
				<id>search_suggestions</id>
				<rel>suggestions</rel>
				<html><![CDATA[
              <cclom:general_keyword>
				]]></html>
			</template>
			<template>
				<id>node_general_render</id>
				<caption>dialog_upload_tab_basic</caption>
				<html><![CDATA[
              <cclom:title>
              <cm:name>
              <cclom:general_keyword>
              
              <license>
              <ccm:author_freetext>
              <cclom:general_description>
              <cclom:size>
              <cm:created>
              <cm:modified>
              <sys:node-uuid>
				]]></html>
			</template>
			<template>
				<id>node_contributor_render</id>
				<caption>dialog_upload_tab_contributers</caption>
				<html><![CDATA[
				<div class="mdsContributorGroup mdsWidgetCaption">
					<div id="mdsLifecyclecontributorsTitle" class="mdsContributorTitle">{{ cb_contr_material }}</div>
					<div id="mdsLifecyclecontributors">
	               		<ccm:lifecyclecontributer_author>
	               		<ccm:lifecyclecontributer_publisher>
	               		<ccm:lifecyclecontributer_unknown>
	               		<ccm:lifecyclecontributer_initiator>
	               		<ccm:lifecyclecontributer_terminator>
	               		<ccm:lifecyclecontributer_validator>
	               		<ccm:lifecyclecontributer_editor>
	               		<ccm:lifecyclecontributer_graphical_designer>
	               		<ccm:lifecyclecontributer_technical_implementer>
	               		<ccm:lifecyclecontributer_content_provider>
	               		<ccm:lifecyclecontributer_educational_validator>
	               		<ccm:lifecyclecontributer_script_writer>
	               		<ccm:lifecyclecontributer_instructional_designer>
	               		<ccm:lifecyclecontributer_subject_matter_expert>
               		</div>
               		<div id="mdsMetadatcontributorsTitle" class="mdsContributorTitle">{{ cb_contr_metadata }}</div>
               		<div id="mdsMetadatcontributors">
	               		<ccm:metadatacontributer_creator>
	               		<ccm:metadatacontributer_validator>
	               		<ccm:metadatacontributer_provider>
	               	</div>
               	</div>
               	<script>
               		function hideIfEmpty(toHide,isEmpty){
               			if(isEmpty.innerHTML.trim()==""){
               				toHide.style.display='none';
               			}
               		}
               		hideIfEmpty(document.getElementById("mdsLifecyclecontributorsTitle"),document.getElementById("mdsLifecyclecontributors"));
               		hideIfEmpty(document.getElementById("mdsMetadatcontributorsTitle"),document.getElementById("mdsMetadatcontributors"));
               	</script>
				]]></html>
			</template>
			<template>
				<id>collection_editorial</id>
				<caption>collection_editorial</caption>
				<html><![CDATA[
					<ccm:educationaltypicalagerange>
					<ccm:taxonid>
					<ccm:educationalcontext>
					<cclom:general_keyword>
				]]></html>
			</template>
		</templates>
		<groups>
			<group>
				<id>io</id>
				<views>
					<view>node_general</view>
				</views>
			</group>
			<group>
				<id>collection_editorial</id>
				<views>
					<view>collection_editorial</view>
				</views>
			</group>
			<group>
				<id>saved_search</id>
				<views>
					<view>saved_search_general</view>
				</views>
			</group>
			<group>
				<id>tool_definition</id>
				<views>
					<view>tool_definition</view>
				</views>
			</group>
			<group>
				<id>tool_instance</id>
				<views>
					<view>tool_instance_general</view>
					<view>tool_instance_provider</view>
					<view>tool_instance_extended</view>
				</views>
			</group>
			<group>
				<id>io_render</id>
				<views>
					<view>node_general_render</view>
					<view>node_contributor_render</view>
				</views>
			</group>
			<group>
				<id>map</id>
				<views>
					<view>node_map</view>
				</views>
			</group>
			<group>
				<id>ngsearch</id>
				<views>
					<view>search</view>
					<view>search_suggestions</view>
				</views>
			</group>
		</groups>
		<queries>
			<basequery>-TYPE:"ccm:toolpermission" AND NOT @cm\:name:"._*" AND NOT @cm\:name:".DS_Store*" AND NOT PATH:"/sys\:system/sys\:people//*"</basequery>
			<allowSearchWithoutCriteria>true</allowSearchWithoutCriteria>
			
			<query join="AND"  id="ngsearch">
				<basequery>ISNULL:@ccm\:tool_category</basequery>
				<property name="ngsearchword">
					<statement>(@sys\:node-uuid:"${value}" OR TEXT:"${value}" OR @cm\:name:"*${value}*" OR @cclom\:title:"*${value}*" OR @cclom\:general_description:"*${value}*" OR @cclom\:general_keyword:"*${value}*" OR @ccm\:taxonentry:"*${value}*" OR @ccm\:classification_keyword:"*${value}*" OR @ccm\:educationallearningresourcetype:"*${value}*" OR @ccm\:educationalcontext:"*${value}*" OR @ccm\:learninggoal:"*${value}*" OR @ccm\:guidanceteachers:"*${value}*" OR @ccm\:guidancestudents:"*${value}*")</statement>
					<multiple>true</multiple>
					<multiplejoin>AND</multiplejoin>
				</property>
				<property name="cclom:general_keyword">
					<statement>@cclom\:general_keyword:"${value}"</statement>
					<multiple>true</multiple>
					<multiplejoin>AND</multiplejoin>
				</property>
				<property name="ccm:classification_purpose" />
				<property name="ccm:commonlicense_key" />
				<property name="ccm:educationallearningresourcetype" />
				<property name="license">
					<statement>@ccm\:commonlicense_key:"${value}"</statement>
					<statement value="OPEN">@ccm\:commonlicense_key:"CC_0" OR @ccm\:commonlicense_key:"PDM"</statement>
					<statement value="OER">@ccm\:commonlicense_key:"CC_0" OR @ccm\:commonlicense_key:"PDM" OR @ccm\:commonlicense_key:"CC_BY" OR @ccm\:commonlicense_key:"CC_BY_SA"</statement>
					<statement value="CC_BY_OPEN">@ccm\:commonlicense_key:"CC_BY" OR @ccm\:commonlicense_key:"CC_BY_SA"</statement>
					<statement value="CC_BY_RESTRICTED">@ccm\:commonlicense_key:"CC_BY_ND" OR @ccm\:commonlicense_key:"CC_BY_NC" OR @ccm\:commonlicense_key:"CC_BY_NC_SA" OR @ccm\:commonlicense_key:"CC_BY_NC_ND"</statement>
					<statement value="CC_BY_ALL">@ccm\:commonlicense_key:"CC_0" OR @ccm\:commonlicense_key:"CC_BY*"</statement>
					<statement value="COPYRIGHT_OTHERS">@ccm\:commonlicense_key:"COPYRIGHT*" OR @ccm\:commonlicense_key:"SCHULFUNK"</statement>
					<multiple>true</multiple>
					<multiplejoin>OR</multiplejoin>
				</property>
			</query>
			<query join="AND" id="saved_search" applyBasequery="false">
				<basequery>TYPE:"ccm:saved_search"</basequery>
				<property name="ngsearchword">
					<statement>(@cm\:name:"*${value}*" OR @cclom\:title:"*${value}*")</statement>
				</property>
			</query>
			<query join="AND"  id="tools">
				<basequery>ASPECT:"{http://www.campuscontent.de/model/1.0}tool_definition"</basequery>
				<property name="toolname">
					<statement>(@sys\:node-uuid:"${value}" OR TEXT:"${value}" OR @cm\:name:"*${value}*" OR @cclom\:title:"*${value}*" OR @cclom\:general_description:"*${value}*" OR @cclom\:general_keyword:"*${value}*" OR @ccm\:taxonentry:"*${value}*" OR @ccm\:classification_keyword:"*${value}*" OR @ccm\:educationallearningresourcetype:"*${value}*" OR @ccm\:educationalcontext:"*${value}*" OR @ccm\:learninggoal:"*${value}*" OR @ccm\:guidanceteachers:"*${value}*" OR @ccm\:guidancestudents:"*${value}*")</statement>
					<multiple>true</multiple>
					<multiplejoin>AND</multiplejoin>
				</property>	
			</query>
			<query join="AND"  id="workspace">
		   		<property name="ngsearchword">
				    <statement>NOT ASPECT:"ccm:collection_io_reference" AND (@sys\:node-uuid:"${value}" OR TEXT:"${value}" OR @cm\:name:"*${value}*" OR @cclom\:title:"*${value}*" OR @cclom\:general_description:"*${value}*" OR @cclom\:general_keyword:"*${value}*" OR @ccm\:taxonentry:"*${value}*" OR @ccm\:classification_keyword:"*${value}*" OR @ccm\:educationallearningresourcetype:"*${value}*" OR @ccm\:educationalcontext:"*${value}*" OR @ccm\:learninggoal:"*${value}*" OR @ccm\:guidanceteachers:"*${value}*" OR @ccm\:guidancestudents:"*${value}*")</statement>
				    <multiple>true</multiple>
				    <multiplejoin>AND</multiplejoin>
			    </property>
		   </query>
		</queries>
</metadataset>
<div *ngIf="clickable"
     class="breadcrumb"
     [class.breadcrumbDesktop]="short=='auto'"
     [class.breadrumbVisible]="short=='never'" >
    <div>
        <button mat-button color="primary" *ngIf="home" tabindex="0" class="home mat-button-no-uppercase" [class.clickable]="clickable" (click)="openBreadcrumb(0)">{{home | translate}}</button>
        <button mat-button color="primary" *ngIf="!home" tabindex="0" class="home homeIcon mat-button-no-uppercase" [class.clickable]="clickable" (click)="openBreadcrumb(0)"><i icon iconId="home"></i></button>
    </div>
    <ng-container *ngFor="let node of _breadcrumbsAsNode;let i=index">
        <i aria-hidden="true" icon iconId="keyboard_arrow_right" class="breadcrumb-arrow"></i>
        <app-node-url
                      [node]="node"
                      [unclickable]="!createLink"
                      (click)="openBreadcrumb(i)"
           >
            <button
                    *ngIf="clickable"
                    mat-button color="primary"
                    [appNodesDropTarget]="canDropNodes.bind(this, node)"
                    (nodesHoveringChange)="onNodesHoveringChange($event, node)"
                    (nodesDrop)="onNodesDrop($event, node)"
                    [class.homeIsIcon]="!home"
                    class="folder mat-button-no-uppercase"
                    [class.clickable]="clickable"
                    [class.selected]="node && dragHover==node">
                {{node ? node.name : ''}}
            </button>
        </app-node-url>
    </ng-container>
</div>
<div *ngIf="!clickable"
     class="breadcrumb breadcrumb-readonly"
     [class.breadcrumbShort]="short=='always'"
     [class.breadcrumbDesktop]="short=='auto'"
     [class.breadrumbVisible]="short=='never'">
    <span>
        <span *ngIf="home" class="home mat-button-no-uppercase">{{home | translate}}</span>
        <span *ngIf="!home" class="home homeIcon mat-button-no-uppercase"><i icon iconId="home"></i></span>
    </span>
    <span *ngIf="short==='always' && _breadcrumbsAsNode.length > 1">
        <i aria-hidden="true" icon iconId="keyboard_arrow_right" class="breadcrumb-arrow"></i>
        <span class="folder">...</span>
    </span>
    <span *ngFor="let node of (short==='always' && _breadcrumbsAsNode.length > 1 ? _breadcrumbsAsNode.reverse().slice(0,1) : _breadcrumbsAsNode)">
        <i aria-hidden="true" icon iconId="keyboard_arrow_right" class="breadcrumb-arrow"></i>
        <span class="folder">{{node ? node.name : ''}}</span>
    </span>
</div>
<!--
<div class="breadcrumb breadcrumbMobile" *ngIf="_breadcrumbsAsNodeShort">
  <div *ngIf="home && _breadcrumbsAsNode.length<2" tabindex="0" class="home" [class.clickable]="clickable" (click)="openBreadcrumb(0)" (keyup.enter)="openBreadcrumb(0)">{{home | translate}}</div>
  <div *ngIf="!home && _breadcrumbsAsNode.length<2" tabindex="0" class="home homeIcon" [class.clickable]="clickable" (click)="openBreadcrumb(0)" (keyup.enter)="openBreadcrumb(0)"><i class="material-icons">home</i></div>
  <div *ngIf="_breadcrumbsAsNode.length==1" tabindex="0" [class.homeIsIcon]="!home" (click)="openBreadcrumb(0)" (keyup.enter)="openBreadcrumb(0)" [class.clickable]="clickable">&rsaquo;</div>
  <div *ngIf="_breadcrumbsAsNode.length>=2" tabindex="0" [class.homeIsIcon]="!home" (click)="openBreadcrumb(0)" (keyup.enter)="openBreadcrumb(0)" [class.clickable]="clickable">&lsaquo;</div>
  <div *ngIf="_breadcrumbsAsNodeShort.length" tabindex="0" [class.homeIsIcon]="!home" class="folder" [class.clickable]="clickable" (click)="openBreadcrumb(_breadcrumbsAsNodeShort.length>1 ? _breadcrumbsAsNode.length-1 : 1)" (keyup.enter)="openBreadcrumb(_breadcrumbsAsNodeShort.length>1 ? _breadcrumbsAsNode.length-1 : 1)">{{_breadcrumbsAsNodeShort[0] ? _breadcrumbsAsNodeShort[0].name : ''}}</div>
  <div *ngIf="_breadcrumbsAsNodeShort.length>1" tabindex="0" [class.homeIsIcon]="!home" class="folder" [class.clickable]="clickable" (click)="openBreadcrumb(_breadcrumbsAsNode.length)" (keyup.enter)="openBreadcrumb(_breadcrumbsAsNode.length)"> &rsaquo; {{_breadcrumbsAsNodeShort[1] ? _breadcrumbsAsNodeShort[1].name : ''}}</div>
</div>
-->
<div class="breadcrumb" [class.breadcrumbMobile]="short=='auto'" [class.breadrumbVisible]="short=='always'" *ngIf="_breadcrumbsAsNodeShort">
    <button style="margin-left: 20px" mat-button color="primary" *ngIf="home && _breadcrumbsAsNode.length<1" tabindex="0" class="home mat-button-no-uppercase" [class.clickable]="clickable" (click)="openBreadcrumb(0)" (keyup.enter)="openBreadcrumb(0)">{{home | translate}} <i icon iconId="keyboard_arrow_down" class="dropdown-icon"></i></button>
    <button mat-button color="primary" *ngIf="!home && _breadcrumbsAsNode.length<1" tabindex="0" class="home homeIcon mat-button-no-uppercase" [class.clickable]="clickable" (click)="openBreadcrumb(0)" (keyup.enter)="openBreadcrumb(0)"><i icon iconId="home"></i></button>
    <button mat-button (click)="openBreadcrumb(_breadcrumbsAsNode.length-1)" *ngIf="_breadcrumbsAsNodeShort.length"><i icon iconId="keyboard_arrow_left" class="breadcrumb-arrow"></i></button>
    <button mat-button color="primary" *ngIf="_breadcrumbsAsNodeShort.length" class="folder mat-button-no-uppercase" [class.clickable]="clickable" (click)="openBreadcrumb(_breadcrumbsAsNode.length)">{{_breadcrumbsAsNodeShort[_breadcrumbsAsNodeShort.length-1] ? _breadcrumbsAsNodeShort[_breadcrumbsAsNodeShort.length-1].name : ''}}</button>
</div>
